<div class="container mt-5">
    <div class="row">
        <div class="col-lg-8 offset-lg-2">
            <div class="card">
                <div class="card-body">
                    <h3 class="titulo">TARJETA CREDITO</h3>
                </div>
            </div>
        </div>
    </div>
    <div class="row mt-4">
        <div class="col-lg-6">
            <div class="card">
            <div class="card-body">
                <h5 class="titulo">{{accion | uppercase}} TARJETA</h5>

                <form [formGroup]='form' (ngSubmit)="guardarTarjeta()">
                    <div class="input-group mb-3 input-group-lg">
                        <span class="input-group-text"><i class="fas fa-user"
                            [class.green-icon]="this.form.get('titular')?.valid"
                            [class.red-icon]="this.form.get('titular')?.invalid && this.form.get('titular')?.touched"></i></span>
                        <input formControlName="titular" type="text" class="form-control" placeholder="titular">
                      </div>
                      <div class="input-group mb-3 input-group-lg">
                        <span class="input-group-text"><i class="fas fa-credit-card"
                            [class.green-icon]="this.form.get('numeroTarjeta')?.valid"
                            [class.red-icon]="this.form.get('numeroTarjeta')?.invalid && this.form.get('numeroTarjeta')?.touched"></i></span>
                        <input formControlName="numeroTarjeta" maxlength="16" type="text" class="form-control" placeholder="Numero Tarjeta">
                      </div>
                    
                      <div class="row">
                        <div class="col-7">
                      <div class="input-group mb-3 input-group-lg">
                        <span class="input-group-text"><i class="fas fa-calendar-alt"
                            [class.green-icon]="this.form.get('fechaExpiracion')?.valid"
                            [class.red-icon]="this.form.get('fechaExpiracion')?.invalid && this.form.get('fechaExpiracion')?.touched"></i></span>
                        <input type="text" formControlName="fechaExpiracion" maxlength="5" class="form-control" placeholder="MM/YY">
                      </div>
                    </div>
                      <div class="col-lg-5">
                        <div class="input-group mb-3 input-group-lg">
                            <span class="input-group-text"><i class="fas fa-key"
                                [class.green-icon]="this.form.get('cvv')?.valid"
                                [class.red-icon]="this.form.get('cvv')?.invalid && this.form.get('cvv')?.touched"></i></span>
                            <input formControlName="cvv" type="text" maxlength="3" class="form-control" placeholder="password">
                          </div>
                       
                      </div>
                    </div>
                    <div class="d-grid gap-2">
                    <button [disabled]="this.form.invalid" type="submit" class="btn btn-success btn-lg">Aceptar
                        <i class="fas fa-database"></i>   
                    </button> 
                
                    </div>
                   
                </form>

            </div>
        </div>
        </div>
        <div class="col-lg-6">
            <div class="card">
            <div class="card-body">
                <h5 class="titulo">LISTADO TARJETA</h5>
                <table class="table">
                    <tbody>
                        <tr *ngFor="let tarjeta of listaTarjeta">
                            <td>{{tarjeta.titular}}</td>
                            <td>{{tarjeta.numeroTarjeta}} </td>
                            <td>{{tarjeta.fechaExpiracion}} </td>
                            <td>
                                <i (click)="editarTarjeta(tarjeta)" class="fas fa-user-edit text-info"></i>
                            </td>
                            <td>
                                <i (click)="eliminarTarjeta(tarjeta.id)" class="fas fa-trash-alt text-danger"></i>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        </div>
    </div>
    
</div>
